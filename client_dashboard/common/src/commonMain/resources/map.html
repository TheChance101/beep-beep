<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
    <style>
        #map {
            height: 400px;
        }

        #coordinates {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 5px;
        }
    </style>
</head>
<body>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script>
    var map = L.map('map').setView([47.6062, -122.3321], 12);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    var marker;

    function handleMapClick(e) {
        document.title = "Marker: Lat " + e.latlng.lat + ", Lng " + e.latlng.lng;

        if (marker) {
            map.removeLayer(marker);
        }
        marker = L.marker(e.latlng, { draggable: true }).addTo(map)
            .bindPopup('Drag me! ' + e.latlng.lat)
            .openPopup();

        // Update the coordinates div content
        var coordinatesDiv = document.getElementById('coordinates');
        coordinatesDiv.textContent = 'Latitude: ' + e.latlng.lat + ', Longitude: ' + e.latlng.lng;

        // Send coordinates back to JavaFX-Swing communication channel
        window.javaObj.markerClickEvent(JSON.stringify(e.latlng));
    }

    map.on('click', handleMapClick);
</script>

<!-- Display coordinates at the bottom of the map -->
<div id="coordinates">Latitude: 0.0, Longitude: 0.0</div>

</body>
</html>




<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <title>OpenStreetMap Example</title>-->
<!--    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />-->
<!--    <style>-->
<!--        #map {-->
<!--            height: 400px;-->
<!--        }-->
<!--        .arrow-buttons {-->
<!--            position: absolute;-->
<!--            bottom: 10px;-->
<!--            left: 10px;-->
<!--            z-index: 1000; /* Ensure buttons are above the map */-->
<!--        }-->
<!--        .arrow-buttons button {-->
<!--            background-color: transparent;-->
<!--            border: none;-->
<!--            cursor: pointer;-->
<!--            font-size: 20px;-->
<!--            color: #000;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="arrow-buttons">-->
<!--    <button onclick="moveMap('up')">&#x25B2;</button><br>-->
<!--    <button onclick="moveMap('left')">&#x25C0;</button>-->
<!--    <button onclick="moveMap('right')">&#x25B6;</button><br>-->
<!--    <button onclick="moveMap('down')">&#x25BC;</button>-->
<!--</div>-->
<!--<div id="map"></div>-->

<!--<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>-->
<!--<script>-->
<!--        var map = L.map('map').setView([47.6062, -122.3321], 12); // Seattle, WA coordinates-->

<!--        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {-->
<!--            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'-->
<!--        }).addTo(map);-->

<!--        var marker = L.marker([47.6062, -122.3321], { draggable: true }).addTo(map)-->
<!--            .bindPopup('Drag me!')-->
<!--            .openPopup();-->

<!--        map.on('click', function(e) {-->
<!--            marker.setLatLng(e.latlng)-->
<!--                .bindPopup('New position: ' + e.latlng.toString())-->
<!--                .openPopup();-->
<!--        });-->

<!--        function moveMap(direction) {-->
<!--            var offset = 0.1; // Adjust this value as needed-->
<!--            var center = map.getCenter();-->

<!--            if (direction === 'up') {-->
<!--                center.lat += offset;-->
<!--            } else if (direction === 'down') {-->
<!--                center.lat -= offset;-->
<!--            } else if (direction === 'left') {-->
<!--                center.lng -= offset;-->
<!--            } else if (direction === 'right') {-->
<!--                center.lng += offset;-->
<!--            }-->

<!--            map.panTo(center);-->
<!--        }-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->


<!--<html>-->
<!--<head>-->
<!--  <title>OpenLayers Map Example</title>-->
<!--  <script src="https://cdnjs.cloudflare.com/ajax/libs/openlayers/2.13.1/OpenLayers.js"></script>-->
<!--  <style>-->
<!--        #mapdiv {-->
<!--            width: 100%;-->
<!--            height: 600px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div id="mapdiv"></div>-->
<!--<script>-->
<!--        var map = new OpenLayers.Map("mapdiv");-->
<!--        map.addLayer(new OpenLayers.Layer.OSM());-->

<!--        var lonLat = new OpenLayers.LonLat(-0.1279688, 51.5077286)-->
<!--            .transform(-->
<!--                new OpenLayers.Projection("EPSG:4326"), // transform from WGS 1984-->
<!--                map.getProjectionObject() // to Spherical Mercator Projection-->
<!--            );-->

<!--        var zoom = 16;-->

<!--        var markers = new OpenLayers.Layer.Markers("Markers");-->
<!--        map.addLayer(markers);-->

<!--        markers.addMarker(new OpenLayers.Marker(lonLat));-->

<!--        map.setCenter(lonLat, zoom);-->

<!--        map.events.register("dblclick", map, function (e) {-->
<!--            var lonLat = map.getLonLatFromViewPortPx(e.xy)-->
<!--                .transform(-->
<!--                    map.getProjectionObject(), // transform from Spherical Mercator Projection-->
<!--                    new OpenLayers.Projection("EPSG:4326") // to WGS 1984-->
<!--                );-->

<!--            markers.clearMarkers(); // Clear existing markers-->
<!--            markers.addMarker(new OpenLayers.Marker(lonLat));-->

<!--            // Log the new marker's coordinates-->
<!--            console.log("New marker coordinates: ", lonLat);-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->
